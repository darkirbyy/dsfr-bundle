{# Recupère une propriété imbriquée, où le path est séparé par des points. Par exemple path='adresse.ville' #}
{% macro attribute_deep(object, path) %}
  {% set properties = path|split('.') %}
  {% set value = object %}
  {% for property in properties %}
    {% set value = value is not null ? attribute(value, property) %}
  {% endfor %}
  {{ value }}
{% endmacro %}

{% macro data_param(object, param, enable, property) %}
  {% if enable and property is not null %}
    {{ param }}="{{ _self.attribute_deep(object, property)|trim }}"
  {% endif %}
{% endmacro %}
